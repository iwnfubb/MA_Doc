\chapter{Einleitung}
Diese Masterarbeit beschäftigt sich mit der Erkennung von außergewöhnlichen Situationen, besonders bei älteren Menschen, die alleine lebend sind. Dazu wird zuerst eine Hintergrundsubtraktion auf das Bild einer Kamera angewendet, um das bewegte Objekt zu erfassen. Der Vordergrund trennt sich von dem Hintergrund durch die Hintergrundsubtraktion und wird in einem Binärbild dargestellt. Das dadurch erzeugte Binärbild wird mit dem Segmentierung-Verfahren in verschiedenen Unterbildern (\acs{ROI}) geschnitten, um eine Silhouette des bewegten Objekts zu erzeugen. Dann wird eine Histogrammanalyse angewendet, um die Körperhaltung der Person aus der Silhouette zu bestimmen. Fuzzylogik kommt letztlich zum Einsatz, um die abnormalen Situationen zu bewerten. Eine Hintergrunddichte-Rechnung wird zusätzlich gemacht, um Drehbewegungen der Kamera zu erkennen. Bei Bewegungen der Kamera, werden die Hintergrundsubtraktion aktualisiert, damit eine richtige Erkennung der Person gewährleistet werden kann. Die OpenCV Bibliothek bietet effiziente Lösungen zur Hintergrundsubtraktion und ist mittels einer Open-Source-Lizenz veröffentlicht. Somit ist OpenCV Bibliothek ideal für diese Art von Bildverarbeitungen und wird in diesem Projekt eingesetzt. Im Rahmen dieser Arbeit wurden Algorithmen der OpenCV Bibliothek erweitert und angepasst.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Motivation}
Sicherheitssysteme werden durch rapiden technologischen Weiterentwicklungen immer zuverlässiger. Sie finden in immer mehr Bereichen des Lebens Einzug. Zum Beispiel kommt das neue eCall Sicherheitssystem von der eSafty-Initiative bei vielen Kraftfahrzeugen zum Einsatz. In der Europäischen Union wird dieses Sicherheitssystem ab dem 31. März 2018 für alle neuen Kraftfahrzeuge sogar zur Pflicht. Kraftfahrzeuge mit eingebautem eCall erkennen automatisch einen Verkehrsunfall und melden diesen über das einheitliche System zur Meldung eines Verkehrsunfall. Auch in anderen Bereichen wie in Wohnungen siedelt sich immer mehr Smarte-Technik an. Durch den Einzug von Smart-Systemen in den Wohnungen, kommen auch mehr Sicherheitssysteme mit. Sprachgesteuerte Systeme wie Google Home und Amazon Alexa sind schon fast standard. Dazu kommen etliche Erweiterungen wie z.B.: Eine Kamera, um Skype anzusteuern und eine Video-Konferenz zu starten. Die Kamera kann dann auch der Person folgen, wenn diese sich im Raum bewegt und bietet somit sehr flexible Kommunikationsmöglichkeiten. Das ähnlicht das Prinzip des Smart-Home. Smart-Home ist ein großer Begriff, der im wesentlichen bedeutet, dass das Zuhause über Sprachsteuerung oder andere Geräte steuerbar ist. Smart-Geräte sind sehr vielfältig. Es können smarte Toaster oder TVs an das Smart-Home angeschlossen werden und somit von der Ferne steuerbar. Auch die dadurch entstandenen Sicherheitssysteme sind aktiv und können aus der Ferne verwaltet werden. Zum Beispiel kann die Kamera, die für Video-Konferenzen genutzt wird, auch aus der Ferne aktiviert werden, um nach dem Rechten zuschauen. Dies ermöglicht auch automatisierte Systeme, das Smart-Home zu schützen, indem es durch die Kamera das Smart-Home überwacht und auf Einbrecher aufmerksam macht. Um solche Systeme zuentwickeln, braucht das Sicherheitssystem eine Personenerkennung. Diese muss mit einer guten Präzision arbeiten, um zum Beispiel Haustiere wie Hunde und Katzen nicht als Einbrecher zu kennen. Jedoch können auch andere Sicherheitssysteme hier zum Einsatz kommen, die gezielt ältere Menschen schützt. So könnte das System ältere Menschen bei einem Umfallen erkennen und Hilfe anfordern. Besonders ältere Menschen sind durch das Hinfallen sehr gefährdet. Solche System verbessern die Sicherheit dieser Menschen, die sonst bei Unfällen hilflos wären und keinen Notruf selbst tätigen können. Viele Smart-Home Wohnungen besitzen bereits Kameras oder sogar fortschrittliche 360° Kameras. Die Motivation ist es hier anzusetzen und davon Gebrauch zu machen, um besonders das Leben von gefährdeten Menschen sicherer zu machen.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Ziele}\label{chp:Ziele}   
Das Ziel dieser Arbeit ist die Entwicklung einer Echtzeitanwendung, die in der Lage ist, Alltagssituationen über eine Kamera einzuschätzen und somit Unfälle automatisch zu erkennen und zu melden. Der Einsatz soll im Haus stattfinden, um Menschen schneller Hilfe leisten zu können. Die Zielgruppe besteht im wesentlichen aus älteren Menschen, die alleine leben und auf schnelle Hilfe bei Hausunfällen angewiesen sind. Außerdem soll dieses Sicherheitssystem auch in der Lage sein, genauere Beschreibungen über den Zustand der Person zu liefern, die im Unfall verwickelt ist. Also soll auch erkannt werden, ob die Person Bewusstlos ist oder eine andere Körperhaltung vorliegt. Wenn eine Person regungslos auf dem Boden liegt, soll nach maximal 5 Sekunden die Rettungskräfte alarmiert werden.
%%%%%%%%%%%%%
\subsubsection{Reaktionszeit} 
Um die Echtzeit bzw. das Melden eines Unfalls möglichst schnell geschieht, wird auf effiziente Methoden zurück gegriffen. Der Sollwert der Erkennung einer regungslosen Person liegt deutlich unter einer Sekunde. So wird eine Echtzeiterkennung garantiert und ein rechtzeitiges handeln gewährleistet.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Aufbau der Arbeit}
Im ersten Kapitel \glqq{}Grundlagen\grqq{} werden die verschiedenen Theorien zur Hintergrundsubtraktion beschrieben. Im nächsten Abschnitt der Grundlagen wird die Histogrammanalyse im allgemeinen beschrieben und wo sie zu verwenden ist. Weiter im Abschnitt 2.3 wird auf die Fuzzylogik eingegangen und erläutert. Im Abschnitt 2.4 wird die Funktionalität des OpenCV Framework erläutert. Weiter im Abschnitt 2.5 \glqq{}Bosch Innenkamera\grqq{} wird die im Projekt eingesetzte Bosch spezifische Kamera beschrieben.
Im nächsten Kapitel \glqq{}Eigenes Verfahren\grqq{} wird zuerst die am häufigsten verwendeten Hintergrunds-Verfahren analysiert. Dann wird beschrieben, welches dieser Verfahren sich am Besten für dieses Projekt eignet. Weiter im Abschnitt 3.2 wird dann die Histogrammanalyse zur Erkennung der Körperhaltung beschrieben. Im Abschnitt 3.3 werden die Techniken zur Erkennung eines Unfalls bzw. außergewöhnliche Situationen gezeigt. Im letzten Abschnitt des Kapitels wird erläutert, wie eine drehbare Kamera dazu verwendet wurde.
Im Kapitel \glqq{}Ergebnisse und Evaluation\grqq{} werden verschiedene Laufzeitanalysen und die Zuverlässigkeit der Unfall-Erkennung diskutiert. Zuletzt wird eine Zusammenfassung dieser Masterarbeit aufgeführt und weitere Einsatzgebiete diskutiert.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Verwandte Arbeiten}
\subsection{Hintergrundsubtraktion}
Bewegungserkennung spielt heutzutage eine immer wichtigere Rolle in Überwachungs-Systemen. Durch die Hintergrundsubtraktion wird die Bewegung von dem Hintergrund extrahiert und isoliert. Es gibt verschiedene wissenschaftliche Arbeiten, die dieses Verfahren diskutieren. Ein gängiges Verfahren ist das ``Adaptive Background Mixture Models'' \cite{784637}, das oft zur Segmentierung einer bewegten Region in Bildsequenzen genutzt wird. Die Methode nutzt die ``Hintergrundsubtraktion'' gefolgt durch eine Schwellenwertbindung, um ein Binärbild zu erzeugen, wo die bewegte Region in weiß dargestellt wird. In \cite{784637} wird das Modellieren jedes Pixels als eine Mischung von Gauß-Werten und das Aktualisieren des Hintergrundmodells wird durch eine Approximation verwendet. Die Gaußschen Verteilungen des adaptiven Mischungsmodells werden dann ausgewertet, um zu bestimmen, welcher Pixel am wahrscheinlichsten von einem Hintergrund gehört.
\\
In \cite{elgammal2000non} wird die Methode ``Kernel Density Estimation'' (\acs{KDE}) besprochen. \acs{KDE} ist ein neuartiges nicht-parametrisches Hintergrundsubtraktion. Das Modell kann mit Bildern umgehen, in denen der Hintergrundbildern überladen und nicht vollständig statisch ist, sondern kleine Bewegungen wie Äste und Blätter enthält. Das Modell berechnet die Wahrscheinlichkeit der Pixelintensitäten auf der Grundlage einer Stichprobe von Intensitäten für jeden Pixel. Das Modell in \cite{elgammal2000non} passt sich schnell an Veränderungen in der Szene an, was eine sehr empfindliche Erkennung bewegter Ziele ermöglicht.
\\
Eine verbesserte Version von \acs{KDE} ist in \cite{zivkovic2006efficient} als ``KNN"\ Methode beschrieben. \acs{KDE} benutzt eine feste Kerngröße $D$ für die gesamte Dichtefunktion, deswegen liefert es nicht immer beste Ergebnisse zurück. Diese Verbesserung passt die Kerngröße an jeden Pixel als Schätzpunkt an. Die konkrete Beschreibung befindet sich in nächstem Kapitel.
\\
In \cite{barnich2009vibe} und \cite{barnich2011vibe} wird ``Vibe'', eine leistungsfähige Methode zur Hintergrundextraktion vorgestellt. Dieser Methode wählt mit einer zufälligen Strategie Werten aus, um eine stichprobenartige Schätzung des Hintergrunds zu erstellen. Für jeden Pixel wird ein Satz von Werten gespeichert, die in der Vergangenheit am selben Ort oder in der Nachbarschaft entnommen wurden. Dann wird dieser Satz mit dem aktuellen Pixel Werten verglichen, um zu bestimmen, ob dieser Pixel zu dem Hintergrund gehört. Bei der Aktualisierung des Modells wird ein zufälliger Pixel ausgewählt, der dann neue Werte aus dem Hintergrundmodell erhält. Dieses Verfahren ist das Erste seiner Art, dass rein zufällige Wahrscheinlichkeiten Methoden der Hintergrundextraktionen verwendet wird \cite{barnich2009vibe}.
\\
Für diese Arbeit wurden die hier genannten Methoden verglichen, um eine für dieses Projekt geeignete Methode zu finden. Über die Auswahl der hier verwendeten Methoden und Vergleiche, werden in nächsten Kapitel näher erläutert.\\
\subsection{Körperhaltungserkennung basierend auf der Histogrammanalyse}
Die Histogrammanalyse ist eine einfache und schnelle Methode, die zur Erkennung der Körperhaltung verwendet werden kann. Es gibt viele wissenschaftliche Arbeiten, die die Verwendung der Histogrammanalysen diskutieren, um die Körperhaltung einer Person zu bestimmen. In\cite{guo2006projection} wird das Projektionshistogramm verwendet, um unterschiedliche Körperhaltungen zu unterscheiden zu können. Dieses Verfahren erkennt die Körperhaltung einer Person auf Bildern. Diese Arbeit in \cite{guo2006projection} besteht aus drei Schlüsselmodulen: Hintergrundsubtraktion, Projektionshistogrammberechnung und Vorlagenabgleich.
\\
Eine andere Methode ist in \cite{haritaoglu1998ghost} beschrieben, die als ``Ghost"\ System bekannt ist. ``Ghost"\ ist ein Echtzeitsystem zum Schätzen der menschlichen Körperhaltung und zum Erfassen von Körperteilen. Es bestimmt die Position der Körperteile durch ein erstelltes silhouetten-basiertes Körpermodell, während sich Personen in generischen Positionen befinden. Diese Methode ist eine Kombination zwischen eine hierarchische Schätzung der Körperposen und der Histogrammanalyse. Um die Silhouetten zu segmentieren, wird eine konvexe Rumpfanalyse und eine teilweise Abbildung angewendet \cite{haritaoglu1998ghost}. Die Schätzung der Körperhaltung in dieser Masterarbeit basiert auf die Methode, die in ``Ghost"\ beschrieben wird.

 
